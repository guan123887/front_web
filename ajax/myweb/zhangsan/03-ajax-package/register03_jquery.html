<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>注册界面</title>
  <script src='./jquery1.x.js'></script>
  <script type="text/javascript">
    window.onload=function(){
      var username=document.querySelector('#username');
      var emailname=document.querySelector('#email');
      var phonename=document.querySelector('#phone');
      username.onblur=function(){
        var userValue=username.value;
        var type='get';
        var url='./server/checkUsername.php';
        var params='username='+userValue;
        var datatype='text';

        // $.ajax({
        //   url:url,
        //   type:type,
        //   data:{
        //     username:userValue
        //   },
        //   async:false,
        //   dataType:"text",
        //   success:function(result){
        //       if(result=='ok'){
        //           document.querySelector('#userresult').innerText='用户名可用';
        //         }else{
        //           document.querySelector('#userresult').innerText='用户名不可用';            
        //         }
        //   }
        // })

        // $.get(url+'?'+params,function(result){
        //   console.log(result);
        // })
    }
      emailname.onblur=function(){
        var emailValue=emailname.value;
        var type='post';
        var url='./server/checkEmailname.php';
        var params='e='+emailValue;
        var datatype='text';     
       //  myAjax2({
       //    url:url,
       //    type:'post',
       //    dataType:'text',
       //    data:{e:emailValue},
       //    async:false,
       //    success:function(result){
       //        var email_result=document.getElementById('emailresult');
       //        if(result==0){
       //            email_result.innerText='邮箱可以使用';  
       //        }else{
       //            email_result.innerText='邮箱已经注册';             
       //        }    
       // }
     // });

     // $.post(url,{e:emailValue},function(result){
     //  console.log(result);
     // })
    }
      phonename.onblur=function(){
        var phoneValue=phonename.value;
        var type='get';
        var url='./server/checkPhonename.php';
        var params='p='+phoneValue;
        var datatype='json';
      //   myAjax2({
      //     url:url,
      //     type:'post',
      //     data:{p:phoneValue},
      //     success:function(result){
      //        var phone_result=document.querySelector('#phoneresult');
      //         if(result.status==0){
      //           console.log(1);
      //             phone_result.innerText=result.message.tips+','+result.message.phonefrom;               
      //         }else if(result.status==1){
      //             phone_result.innerText=result.message;
      //         }           
      //   }
      // });        
      $.post(url,{p:phoneValue},function(result){
        console.log(result);
      })
    }
}
  </script>
</head>
<body>
    <h1>注册界面</h1>
    <form action='' method='get'>
      用户名:<input type="text" id='username'><span id='userresult'></span><br>
      邮箱:<input type="text" id='email'><span id='emailresult'></span><br>
      手机号:<input type="text" id='phone'><span id='phoneresult'></span><br>
    </form>
</body>
</html>